Установка NFS-сервера.
Небольшое замечание. Если вы используете ядро 2.2.13 и выше, вы можете использовать  nfs-kernel-server. Кроме него можно использовать nfs-user-server. Этот пакет более медленный, но имеет больше функций и его легче дебажить, чем nfs-kernel-server.

Установка осуществляется следующей командой:

# aptitude install nfs-kernel-server nfs-common portmap
После установки нужно указать, доступ к каким директориям мы предоставляем. Для этого правим файл /etc/exports. Для NFSv3 и ранее содержимое файла будет выглядеть примерно так:

/mnt/movie 192.168.0.0/24(rw,async,no_subtree_check)
/mnt/user 192.168.0.41(rw,async,no_subtree_check)
В NFSv4 предоставляется доступ к главной директории и ее поддиректориям. Таким образом в первой строке описывается главная директория, а в последующих - поддиректории, с отдельной строки:

/mnt 192.168.0.0/24(ro, fsid=0, async, no_subtree_check)
/mnt/movie 192.168.0.0/24(rw, async, no_subtree_check)
/mnt/user 192.168.0.41(rw, async, no_subtree_check)
Полезные утилиты.
Чтобы не передергивать сервис, можно мягко применить измененные настройки командой:

# exportfs -ra
Где параметр -a говорит о том, что нужно экспортировать все директории из файла /etc/exports, а параметр -r заставляет реэкспортировать список всех директорий очистив текущий список. Вообще говоря, если нужно пополнить список экспортированных директорий, то нужно использовать параметр -a, а если нучно убрать все текущие и добавить только те, что есть в /etc/exports, то следует использовать параметр -r. Также может быть полезен параметр -u, который позволяет отменить экспорт определенных директорий и параметр -f, который очищает текущую таблицу экспорта ядра и все активные пользователи при последующем запросе получат новый список экспортируемых директорий.

Узнать различную информацию об экспорте можно с помощью утилиты showmount:

showmount без параметров отображает список подключенных клиентов,
-a или --all - показывает все используемые точки монтирования с ip-адресами и директориями. Так можно узнать, какие машины пользуются NFS-сервером и какие директории на них смонтированы.
-d - отображает только список директорий смонитированных клиентами.
-e - выводит список экспорта NFS-сервера.

Утилита nfsstat отображает диагностическую информацию об активности как NFS-сервера, так и клиента.

Параметры команды nfsstat:

-s - вывести только серверную статистику. По умолчанию выводится как серверная, так и клиентская информация.
-c - вывести только клиентскую статистику.
-n - вывести только статистику NFS. По умолчанию, выводится как NFS, так и RPC статистика.
-2 - вывести данные только по NFS v2. По умолчанию, выводится информация обо всех версиях имеющих не нулевую статистику.
-3 - вывести данные только по NFS v3.
-4 - вывести данные только по NFS v4.
-m - отобразить информацию о всех смонтированных NFS файловых системах. Если указан данный параметр, то все остальные игнорируются.
-r - вывести только статистику NFS.
-l - отобразить информацию в виде списка.
